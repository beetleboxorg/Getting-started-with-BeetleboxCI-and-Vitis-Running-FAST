runners:
 AWS-runner:
  image: work1-virtualbox:5000/ubuntu-vitis-2020-1

jobs:   
 run-hw:
  resource_spec: small  
  runner: AWS-runner
  type:
   test: hw-emulation
  current_working_directory: /tools/Xilinx/Vitis/2020.1/workspace/test_fast_CI    
  input: 
   artifact: 
    - build-hw-fast.tar.gz   
  output:
   artifact:
    - output_hls.png
  steps:
   - run:
      name: Update SD card
      command: Hardware/transfer.expect
   - run:
      name: Sleep
      command: Hardware/sleep.sh
   - run:
      name: Run
      command: Hardware/run.expect
   - run:
      name: Retrieve output
      command: Hardware/transfer_output.expect    
      
workflows:
 hw-workflow:
  jobs:
   - run-hw
